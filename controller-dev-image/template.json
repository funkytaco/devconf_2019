{
    "apiVersion": "v1",
    "kind": "Template",
    "labels": {
       "template": "my-controller-dev"
    },
    "metadata": {
       "annotations": null,
       "name": "my-controller-dev"
    },
    "objects": [
       {
          "apiVersion": "v1",
          "kind": "ImageStream",
          "metadata": {
             "labels": {
                "template": "${APPLICATION_NAME}"
             },
             "name": "${APPLICATION_NAME}"
          }
       },
       {
          "apiVersion": "v1",
          "kind": "DeploymentConfig",
          "metadata": {
             "labels": {
                "template": "${APPLICATION_NAME}"
             },
             "name": "${APPLICATION_NAME}"
          },
          "spec": {
             "replicas": 1,
             "selector": {
                "app": "${APPLICATION_NAME}",
                "deploymentconfig": "${APPLICATION_NAME}"
             },
             "strategy": {
                "resources": {},
                "rollingParams": {
                   "intervalSeconds": 1,
                   "maxSurge": "25%",
                   "maxUnavailable": "25%",
                   "timeoutSeconds": 600,
                   "updatePeriodSeconds": 1
                },
                "type": "Rolling"
             },
             "template": {
                "metadata": {
                   "annotations": null,
                   "labels": {
                      "app": "${APPLICATION_NAME}",
                      "deploymentconfig": "${APPLICATION_NAME}"
                   }
                },
                "spec": {
                   "containers": [
                      {
                         "env": [
                            {
                              "name": "MY_POD_NAME",
                              "valueFrom": {
                                 "fieldRef": {
                                    "fieldPath": "metadata.name"
                                 }
                              }
                           },
                           {
                              "name": "MY_POD_NAMESPACE",
                              "valueFrom": {
                                 "fieldRef": {
                                    "fieldPath": "metadata.namespace"
                                 }
                              }
                           }
                         ],
                         "image": "submod/controller_dev:latest",
                         "command": ["/opt/app-root/loop.sh"],
                         "imagePullPolicy": "Always",
                         "name": "${APPLICATION_NAME}",
                         "ports": [
                            {
                               "containerPort": 8080,
                               "protocol": "TCP"
                            }
                         ],
                         "resources": {},
                         "terminationMessagePath": "/dev/termination-log"
                      }
                   ],
                   "dnsPolicy": "ClusterFirst",
                   "restartPolicy": "Always",
                   "serviceAccountName": "${APPLICATION_NAME}",
                   "securityContext": {},
                   "terminationGracePeriodSeconds": 30
                }
             },
             "test": false,
             "triggers": [
                {
                   "type": "ConfigChange"
                }
             ]
          }
       },
       {
          "apiVersion": "v1",
          "kind": "ServiceAccount",
          "metadata": {
             "labels": {
                "template": "${APPLICATION_NAME}"
             },
             "name": "${APPLICATION_NAME}"
          }
       },
       {
          "apiVersion": "v1",
          "groupNames": null,
          "kind": "RoleBinding",
          "metadata": {
             "labels": {
                "template": "${APPLICATION_NAME}"
             },
             "name": "${APPLICATION_NAME}_edit"
          },
          "roleRef": {
             "name": "edit"
          },
          "subjects": [
             {
                "kind": "ServiceAccount",
                "name": "${APPLICATION_NAME}"
             }
          ]
       }
    ],
    "parameters": [
       {
          "description": "The name for the application.",
          "name": "APPLICATION_NAME",
          "required": true,
          "value": "my-controller-dev"
       }
    ]
 }